var PopDialog=function(){function a(a){setThemeConfig=!0,setThemeConfig&&(setTheme=a.theme)}function e(a){if(lockFlag){lockFlag=!1,options.quickCallback="",options.cancleCallback="",options.confirmCallback="",options=$.extend(options,a),mouldClass=a.theme?"alert_box_"+a.theme:setThemeConfig?"alert_box_"+setTheme:"";var e=Templ[a.type];e=e.replace(/\$theme\$/gi,mouldClass).replace(/\$placeholder\$/gi,options.placeholder).replace(/\$msg\$/gi,options.msg).replace(/\$cancle\$/gi,options.cancleTxt).replace(/\$confirm\$/gi,options.confirmTxt),$("body").append(e),$("#alertBox").show(),setTimeout(function(){$("#alertBox").addClass("show"),$.browser.msie&&9>=parseInt($.browser.version)&&n($("#alertBox"))},100);var l=$("#alertBox .alert_wrap"),c=l.height();l.css({marginTop:-(c/2)+"px"}),t(options.confirmCallback),o(options.cancleCallback),i()}}function n(a){a.find("input").each(function(a,e){var n=$(e);n.attr("placeholder")&&n.val(n.attr("placeholder")).addClass("labelPlaceholder"),n.on("blur",function(){""===n.val()&&n.val(n.attr("placeholder")).addClass("labelPlaceholder")}),n.on("focus",function(){n.attr("placeholder")===n.val()&&n.val("").removeClass("labelPlaceholder")})})}function t(a){$("#alertBox .btnsConfirm").click(function(){"confirm"==options.type?quickFlag=!0:"prompt"==options.type&&(quickFlag=$("#alertBox input").val()),l(a)})}function o(a){$("#alertBox .btnsCancle").click(function(){"confirm"==options.type?quickFlag=!1:"prompt"==options.type&&(quickFlag=null),l(a)})}function i(){$("#alertBox .alertClose").click(function(){l()})}function l(a){$("#alertBox").removeClass("show"),void 0==s?($("#alertBox").remove(),lockFlag=!0):setTimeout(function(){$("#alertBox").remove(),lockFlag=!0},200),"function"==typeof a&&a(quickFlag),"function"==typeof options.quickCallback&&options.quickCallback(quickFlag)}function c(a,e,n){var t={};return"string"==typeof a?(t.msg=a,"string"==typeof e?t.placeholder=e:"function"==typeof e&&(t.quickCallback=e),"function"==typeof n&&(t.quickCallback=n)):t=a,t}var s=document.createElement("div").style.opacity;return setThemeConfig=!1,setTheme="",lockFlag=!0,mouldClass="",quickFlag="",options={confirmTxt:"\u786e  \u5b9a",cancleTxt:"\u53d6  \u6d88",placeholder:""},Templ={alert:'<div class="alert_box $theme$" id="alertBox">\n	<div class="shadow"></div>\n	<div class="alert_wrap">\n		<a href="javascript:;" class="alertClose"><i></i><em></em></a>\n		<div class="alert_main">\n			<div class="alert_content">$msg$</div>\n			<div class="btns_wrap">\n				<a href="javascript:;" class="btns btnsConfirm">$confirm$</a>\n			</div>\n		</div>\n	</div>\n</div>',confirm:'<div class="alert_box $theme$" id="alertBox">\n	<div class="shadow"></div>\n	<div class="alert_wrap">\n		<a href="javascript:;" class="alertClose"><i></i><em></em></a>\n		<div class="alert_main">\n			<div class="alert_content">$msg$</div>\n			<div class="btns_wrap">\n				<a href="javascript:;" class="btns btnsCancle">$cancle$</a>\n				<a href="javascript:;" class="btns btnsConfirm">$confirm$</a>\n			</div>\n		</div>\n	</div>\n</div>',prompt:'<div class="alert_box $theme$" id="alertBox">\n	<div class="shadow"></div>\n	<div class="alert_wrap">\n		<a href="javascript:;" class="alertClose"><i></i><em></em></a>\n		<div class="alert_main">\n			<div class="alert_content">\n				<p class="tit">$msg$</p>\n				<input type="text" class="text" placeholder="$placeholder$">\n			</div>\n			<div class="btns_wrap">\n				<a href="javascript:;" class="btns btnsCancle">$cancle$</a>\n				<a href="javascript:;" class="btns btnsConfirm">$confirm$</a>\n			</div>\n		</div>\n	</div>\n</div>'},{config:function(e){a(e)},Close:function(){l()},Alert:function(a){var n=c(a);n.type="alert",e(n)},Confirm:function(a,n){var t=c(a,n);t.type="confirm",e(t)},Prompt:function(a,n,t){var o=c(a,n,t);o.type="prompt",e(o)}}}(),NieDownload=function(a){var e=/iphone|ios|ipod/i.test(navigator.userAgent.toLowerCase()),n=/ipad/i.test(navigator.userAgent.toLowerCase()),t=/android/i.test(navigator.userAgent.toLowerCase()),o=function(e,n,t){e.find(n).length>0&&(a.addEventListener?e.find(n)[0].addEventListener("click",function(){"function"==typeof t?t():alert("\u656c\u8bf7\u671f\u5f85\uff01")},!1):e.find(n)[0].attachEvent("onclick",function(){"function"==typeof t?t():alert("\u656c\u8bf7\u671f\u5f85\uff01")}))},i=function(a,i,l){e&&!n?l.enableIos?$(a).find(".NIE-download").attr("href",i):o($(a),".NIE-download",l.disableClick):t?l.enableAndroid?$(a).find(".btn_download").attr("href",i):o($(a),".btn_download",l.disableClick):(l.enableAndroid?$(a).find(".NIE-button-android").attr("href",i+"?type=android"):o($(a),".NIE-button-android",l.disableClick),l.enableIos?$(a).find(".NIE-button-ios").attr("href",i+"?type=ios"):o($(a),".NIE-button-ios",l.disableClick))},l=function(a){var e,n=a.wrapper,t=n.attr("data-download"),o="http"+(a.useSSL?"s":"")+"://adl.netease.com/d/g/"+t.split("|")[0]+"/c/"+t.split("|")[1];e=a.qrcode?a.qrcode:o+"/qr",n.each(function(n,t){$(t).find(".NIE-qrcode").append("<img src='"+e+"' />"),i(t,o,a)})};return{create:l}}(window,document,void 0);