
var PopDialog=function(){function a(a){setThemeConfig=!0,setThemeConfig&&(setTheme=a.theme)}function e(a){if(lockFlag){lockFlag=!1,options.quickCallback="",options.cancleCallback="",options.confirmCallback="",options=$.extend(options,a),mouldClass=a.theme?"alert_box_"+a.theme:setThemeConfig?"alert_box_"+setTheme:"";var e=Templ[a.type];e=e.replace(/\$theme\$/gi,mouldClass).replace(/\$placeholder\$/gi,options.placeholder).replace(/\$msg\$/gi,options.msg).replace(/\$cancle\$/gi,options.cancleTxt).replace(/\$confirm\$/gi,options.confirmTxt),$("body").append(e),$("#alertBox").show(),setTimeout(function(){$("#alertBox").addClass("show"),$.browser.msie&&9>=parseInt($.browser.version)&&n($("#alertBox"))},100);var i=$("#alertBox .alert_wrap"),c=i.height();i.css({marginTop:-(c/2)+"px"}),t(options.confirmCallback),l(options.cancleCallback),o()}}function n(a){a.find("input").each(function(a,e){var n=$(e);n.attr("placeholder")&&n.val(n.attr("placeholder")).addClass("labelPlaceholder"),n.on("blur",function(){""===n.val()&&n.val(n.attr("placeholder")).addClass("labelPlaceholder")}),n.on("focus",function(){n.attr("placeholder")===n.val()&&n.val("").removeClass("labelPlaceholder")})})}function t(a){$("#alertBox .btnsConfirm").click(function(){"confirm"==options.type?quickFlag=!0:"prompt"==options.type&&(quickFlag=$("#alertBox input").val()),i(a)})}function l(a){$("#alertBox .btnsCancle").click(function(){"confirm"==options.type?quickFlag=!1:"prompt"==options.type&&(quickFlag=null),i(a)})}function o(){$("#alertBox .alertClose").click(function(){i()})}function i(a){$("#alertBox").removeClass("show"),void 0==s?($("#alertBox").remove(),lockFlag=!0):setTimeout(function(){$("#alertBox").remove(),lockFlag=!0},200),"function"==typeof a&&a(quickFlag),"function"==typeof options.quickCallback&&options.quickCallback(quickFlag)}function c(a,e,n){var t={};return"string"==typeof a?(t.msg=a,"string"==typeof e?t.placeholder=e:"function"==typeof e&&(t.quickCallback=e),"function"==typeof n&&(t.quickCallback=n)):t=a,t}var s=document.createElement("div").style.opacity;return setThemeConfig=!1,setTheme="",lockFlag=!0,mouldClass="",quickFlag="",options={confirmTxt:"\u786e  \u5b9a",cancleTxt:"\u53d6  \u6d88",placeholder:""},Templ={alert:'<div class="alert_box $theme$" id="alertBox">\n	<div class="shadow"></div>\n	<div class="alert_wrap">\n		<a href="javascript:;" class="alertClose"><i></i><em></em></a>\n		<div class="alert_main">\n			<div class="alert_content">$msg$</div>\n			<div class="btns_wrap">\n				<a href="javascript:;" class="btns btnsConfirm">$confirm$</a>\n			</div>\n		</div>\n	</div>\n</div>',confirm:'<div class="alert_box $theme$" id="alertBox">\n	<div class="shadow"></div>\n	<div class="alert_wrap">\n		<a href="javascript:;" class="alertClose"><i></i><em></em></a>\n		<div class="alert_main">\n			<div class="alert_content">$msg$</div>\n			<div class="btns_wrap">\n				<a href="javascript:;" class="btns btnsCancle">$cancle$</a>\n				<a href="javascript:;" class="btns btnsConfirm">$confirm$</a>\n			</div>\n		</div>\n	</div>\n</div>',prompt:'<div class="alert_box $theme$" id="alertBox">\n	<div class="shadow"></div>\n	<div class="alert_wrap">\n		<a href="javascript:;" class="alertClose"><i></i><em></em></a>\n		<div class="alert_main">\n			<div class="alert_content">\n				<p class="tit">$msg$</p>\n				<input type="text" class="text" placeholder="$placeholder$">\n			</div>\n			<div class="btns_wrap">\n				<a href="javascript:;" class="btns btnsCancle">$cancle$</a>\n				<a href="javascript:;" class="btns btnsConfirm">$confirm$</a>\n			</div>\n		</div>\n	</div>\n</div>'},{config:function(e){a(e)},Close:function(){i()},Alert:function(a){var n=c(a);n.type="alert",e(n)},Confirm:function(a,n){var t=c(a,n);t.type="confirm",e(t)},Prompt:function(a,n,t){var l=c(a,n,t);l.type="prompt",e(l)}}}();
// var NieDownload=function(n){var t=/iphone|ios|ipod/i.test(navigator.userAgent.toLowerCase()),e=/ipad/i.test(navigator.userAgent.toLowerCase()),o=/android/i.test(navigator.userAgent.toLowerCase()),i=function(t,e,o){t.find(e).length>0&&(n.addEventListener?t.find(e)[0].addEventListener("click",function(){"function"==typeof o?o():alert("\u656c\u8bf7\u671f\u5f85\uff01")},!1):t.find(e)[0].attachEvent("onclick",function(){"function"==typeof o?o():alert("\u656c\u8bf7\u671f\u5f85\uff01")}))},d=function(n,d,a){t&&!e?a.enableIos?$(n).find(".NIE-download").attr("href",d):i($(n),".NIE-download",a.disableClick):o?a.enableAndroid?$(n).find(".btn_download").attr("href",d):i($(n),".btn_download",a.disableClick):(a.enableAndroid?$(n).find(".NIE-button-android").attr("href",d+"?type=android"):i($(n),".NIE-button-android",a.disableClick),a.enableIos?$(n).find(".NIE-button-ios").attr("href",d+"?type=ios"):i($(n),".NIE-button-ios",a.disableClick))},a=function(n){var t,e=n.wrapper,o=e.attr("data-download"),i="http"+(n.useSSL?"s":"")+"://adl.netease.com/d/g/"+o.split("|")[0]+"/c/"+o.split("|")[1];t=n.qrcode?n.qrcode:i+"/qr",e.each(function(e,o){$(o).find(".NIE-qrcode").append("<img src='"+t+"' />"),d(o,i,n)})};return{create:a}}(window,document,void 0);