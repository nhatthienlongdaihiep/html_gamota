~function(e,n){function t(e,n,t){if(e)if(e.length&&e.length===+e.length){for(var r=0;r<e.length;r++)if(n.call(t,e[r],r,e)===!0)return}else for(var a in e)if(n.call(t,e[a],a,e)===!0)return}function r(e){var n=[];return t(e,function(e,r){i.isArray(e)?t(e,function(e){n.push(r+"="+encodeURIComponent(e))}):n.push(r+"="+encodeURIComponent(e))}),n.join("&")}function a(e){try{return JSON.parse(e)}catch(n){try{return new Function("return "+e)()}catch(n){}}}function o(){}var i={},s=Object.prototype.toString;t(["Array","Boolean","Function","Object","String","Number"],function(e){i["is"+e]=function(n){return s.call(n)==="[object "+e+"]"}}),~function(i){function s(e,n){i.isObject(e)&&(n=e,e=n.url);var t,a,s,n=n||{},l=n.async!==!1,f=n.method||"GET",d=n.type||"text",v=n.encode||"UTF-8",p=n.timeout||0,m=n.credential,g=n.data,y=n.scope,h=n.success||o,E=n.failure||o;return f=f.toUpperCase(),i.isObject(g)&&(g=r(g)),"GET"===f&&g&&(e+=(-1===e.indexOf("?")?"?":"&")+g),(t=u())?(a=!1,l&&p>0&&(s=setTimeout(function(){a=!0,t.abort()},p)),t.onreadystatechange=function(){4===t.readyState&&(a?E(t,"request timeout"):(c(t,d,h,E,y),clearTimeout(s)))},t.open(f,e,l),m&&(t.withCredentials=!0),"POST"==f&&t.setRequestHeader("Content-type","application/x-www-form-urlencoded;charset="+v),t.send(g),t):void 0}function c(e,t,r,o,i){var s,c=e.status;if(c>=200&&300>c){switch(t){case"text":s=e.responseText;break;case"json":s=a(e.responseText);break;case"xml":s=e.responseXML}s!==n&&r.call(i,s,c,e)}else o(e,e.status);e=null}var u=e.XMLHttpRequest?function(){return new XMLHttpRequest}:function(){return new e.ActiveXObject("Microsoft.XMLHTTP")},l={method:["get","post"],type:["text","json","xml"],async:["sync","async"]};i.ajax=s,t(l,function(e,n){t(e,function(e){i[e]=function(e,n){return function(t,r,a){return i.isObject(t)&&(r=t),i.isFunction(r)&&(r={success:r}),i.isFunction(a)&&(r={data:r},r.success=a),"async"===e&&(n="async"===n?!0:!1),r=r||{},r[e]=n,s(t,r)}}(n,e)})})}(i),~function(t){function a(){var e="",n=[],t=0,r="0123456789ABCDEF";for(t=0;32>t;t++)n[t]=r.substr(Math.floor(16*Math.random()),1);return n[12]="4",n[16]=r.substr(3&n[16]|8,1),e="jsonp_"+n.join("")}function i(i,v){function p(t){t?d=!0:E.call(b),j.onload=j.onerror=j.onreadystatechange=null,l&&j.parentNode&&(l.removeChild(j),j=null,e[T]=n)}function m(){setTimeout(function(){d||p()},f)}t.isObject(i)&&(v=i,i=v.url);var v=v||{},i=i+"?",g=v.data,y=v.charset,h=v.success||o,E=v.failure||o,b=v.scope||e,N=v.timestamp,w=v.jsonpName||"callback",T=v.jsonpCallback||a();t.isObject(g)&&(g=r(g));var j=u.createElement("script");s?j.onreadystatechange=function(){var e=this.readyState;d||"loaded"!=e&&"complete"!=e||p(!0)}:(j.onload=function(){p(!0)},j.onerror=function(){p()},c&&m()),i+=w+"="+T,y&&(j.charset=y),g&&(i+="&"+g),N&&(i+="&ts=",i+=(new Date).getTime()),e[T]=function(e){h.call(b,e)},j.src=i,l.insertBefore(j,l.firstChild)}var s=!-[1],c=e.opera,u=e.document,l=u.head||u.getElementsByTagName("head")[0],f=3e3,d=!1;t.jsonp=function(e,n,r){return t.isObject(e)&&(n=e),t.isFunction(n)&&(n={success:n}),t.isFunction(r)&&(n={data:n},n.success=r),i(e,n)}}(i),"function"==typeof define&&define.amd?define("IO",[],function(){return i}):e.IO=i}(this),function(){var e=document,n={EventUtil:{add:function(e,n,t){e.addEventListener?e.addEventListener(n,t,!1):e.attachEvent?e.attachEvent("on"+n,t):e["on"+n]=t},remove:function(e,n,t){e.removeEventListener?e.removeEventListener(n,t,!1):e.attachEvent?e.detachEvent("on"+n,t):e["on"+n]=null},getEvent:function(e){return e?e:window.event},getTarget:function(e){return e.target||e.srcElement},preventDefault:function(e){n.EventUtil.getEvent(e);e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}},getTarget:function(e){var t=n.EventUtil.getEvent(e),r=n.EventUtil.getTarget(t);return r},addClass:function(e,n){e.classList?e.classList.add(n):e.className+=" "+n},removeClass:function(e,n){e.classList?e.classList.remove(n):e.className=e.className.replace(n,"")},getByClass:function(e,n){var n=n?n:document;return n.querySelectorAll?n.querySelectorAll("."+e):function(n){for(var n=n.getElementsByTagName("*"),t=[],r=new RegExp("\\b"+e+"\\b","i"),a=0;a<n.length;a++)r.test(n[a].className)&&t.push(n[a]);return t}(n)},reduceDimension:function(e){for(var n=[],t=0,r=e.length;r>t;t++)n=n.concat(e[t]);return n},forEach:function(){return function(e,n){if("function"==typeof Array.prototype.forEach)e.forEach(function(t,r,a){n.call(e,t,r,a)});else for(var t=0,r=e.length;r>t;t++)n.call(e,e[t],t,e)}}()},t="http://web.2144.cn/",r=function(){var r=[],a=e.getElementById("ser_con"),o=e.getElementById("serverbigwrap"),i=e.getElementById("fu_txt"),s=n.getByClass("server_zui")[0],c=function(){var e=function(e){var t="";return n.forEach(e,function(e,n){t+=2>n?'<a href="'+e.url+'"><p><span>火爆开启</span>'+e.name+" NEW!</p></a>":'<a href="'+e.url+'"><p><span>火爆开启</span>'+e.name+"</p></a>"}),t};a.innerHTML=e(r.slice(0,5))},u=function(e,t){var r="";return n.forEach(e,function(e,n){r+=t&&t>n?'<a href="'+e.url+'"><span>'+e.name+"</span>火爆开启</a>":'<a href="'+e.url+'"><span>'+e.name+"</span></a>"}),r},l=function(){s&&IO.jsonp(t+"api/getLastestPlayed/gid/"+gid+"/limit/2/client/"+client,function(e){var t=e.length;t&&(s.innerHTML=u(e,2)),n.getByClass("server_tit",s.parentNode)[0].style.display=t?"block":"none",s.style.display=t?"block":"none"})},f=function(){var e=function(e){for(var n=(e.length,100),t=Math.ceil(e[0].sid/n),r="",a=t-1;a>=0;a--){var o=a*n,i=o+n;r+=a==t-1?'<span class="cur">'+i+"-"+(o+1)+"</span>":"<span>"+i+"-"+(o+1)+"</span>"}return'<div class="server_nav">'+r+"</div>"},t=function(e,t){var a=[];return n.forEach(r,function(n){n.sid>=e&&n.sid<=t&&a.push(n)}),a},a=function(e){for(var n=(e.length,100),r=Math.ceil(e[0].sid/n),a="",o=r-1;o>=0;o--){var i=o*n,s=i+n,c=t(i+1,s);a+=o==r-1?'<div class="server_con">'+u(c,4)+"</div>":'<div class="server_con hidden">'+u(c)+"</div>"}return'<div class="server_wrap">'+a+"</div>"};o.innerHTML=e(r)+a(r)},d=function(e,t,r){n.forEach(t,function(n,t){n.className=n==e?"cur":"",r[t].style.display=n==e?"block":"none"})},v=function(e){var t=n.getTarget(e),r=null,a=null;return"span"==t.nodeName.toLowerCase()&&"server_nav"==t.parentNode.className?(r=n.reduceDimension(t.parentNode.getElementsByTagName("span")),a=n.getByClass("server_wrap",t.parentNode.parentNode)[0].children,void d(t,r,a)):void 0},p=function(){var e=i.value;if(!isNaN(e)&&e){var n=window.open("","_blank");IO.jsonp(t+"api/getServer/gid/"+gid+"/sid/"+e,function(e){return 1==e.error?(n.close(),void alert("区服不存在")):void(n.location.href=e.url)})}else alert("区服不存在")};return"undefined"==typeof gid&&(gid=Defgid),IO.jsonp(t+"api/getLastestServers/gid/"+gid+"/limit/0/client/"+client,function(e){r=e,a&&c(),l(),o&&f()}),n.EventUtil.add(e.body,"mouseover",v),n.EventUtil.add(e.body,"click",function(e){var t=n.getTarget(e);return"a"==t.nodeName.toLowerCase()&&"fu_btn"==t.className?(n.EventUtil.preventDefault(e),void p()):void 0}),n.EventUtil.add(document,"keydown",function(e){var t=n.EventUtil.getEvent(e);13==t.keyCode&&i&&i==document.activeElement&&p()}),{getPlayServer:l}},a=r();"undefined"==typeof qmsyn&&(window.qmsyn={syn:function(){for(key in qmsyn)"function"==typeof qmsyn[key]&&"syn"!=key&&qmsyn[key]()}}),qmsyn.serverSyn=function(){a.getPlayServer()}}();